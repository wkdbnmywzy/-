<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>登录 - 工地数字导航</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="css/login.css">
</head>
<body>
    <div class="login-wrapper">
        <!-- 加载界面 -->
        <div class="loading-screen" id="loading-screen">
            <div class="loading-content">
                <img src="images/工地数字导航小程序切图/司机/2X/登录/加载中.png" alt="加载中" class="loading-icon">
                <div class="loading-text">加载中...</div>
            </div>
        </div>

        <!-- 地图背景区域 -->
        <div class="map-background">
            <div class="logo-section">
                <!-- <img src="images/工地数字导航小程序切图/司机/2X/登录/logo.png" alt="Logo" class="logo-icon"> -->
            </div>
        </div>

    <!-- 卡片堆叠容器：登录/其他手机号/项目/车辆四张卡片在此进行切换 -->
        <div class="card-stack">
        <!-- 登录表单卡片 -->
        <div class="login-card card show">
            <!-- 登录方式切换 -->
            <div class="login-tabs" id="login-tabs">
                <button class="tab-btn active" data-tab="driver">司机登录</button>
                <button class="tab-btn" data-tab="admin">管理员登录</button>
            </div>

            <!-- 司机登录表单 -->
            <form class="login-form" id="driver-login-form">
                <div class="form-group account-form-group">
                    <label class="account-label">姓名</label>
                    <input type="text" id="driver-name-input" class="form-input account-input" placeholder="请输入姓名">
                    <span class="required-mark" id="name-required">*</span>
                </div>

                <div class="form-group account-form-group">
                    <label class="account-label">手机号</label>
                    <input type="tel" id="driver-phone-input" class="form-input account-input" placeholder="请输入手机号" inputmode="numeric">
                    <span class="required-mark" id="phone-required">*</span>
                </div>

                <div class="form-group account-form-group">
                    <label class="account-label">车牌号</label>
                    <input type="text" id="driver-plate-input" class="form-input account-input" placeholder="输入车牌号">
                    <span class="required-mark" id="plate-required">*</span>
                </div>

                <div class="hint-message" id="driver-hint-message">请填入姓名、手机号</div>

                <button type="submit" class="login-btn primary-btn">
                    登录
                </button>

                <div class="remember-option">
                    <input type="checkbox" id="remember-driver" class="remember-checkbox">
                    <label for="remember-driver">下次登录自动填写</label>
                </div>

                <div class="error-message" id="driver-error-message"></div>
            </form>

            <!-- 管理员登录表单 (隐藏) -->
            <form class="login-form hidden" id="admin-login-form">
                <div class="form-group account-form-group">
                    <label class="account-label">账号:</label>
                    <input type="text" id="username" class="form-input account-input" placeholder="" autocomplete="username">
                </div>

                <div class="form-group account-form-group">
                    <label class="account-label">密码:</label>
                    <input type="password" id="password" class="form-input account-input" placeholder="" autocomplete="current-password">
                </div>

                <div class="form-group account-form-group remember-form-group">
                    <label class="account-label"></label>
                    <div class="remember-option">
                        <input type="checkbox" id="remember-admin" class="remember-checkbox">
                        <label for="remember-admin">记住密码</label>
                    </div>
                </div>

                <button type="submit" class="login-btn primary-btn">
                    登录
                </button>

                <div class="error-message" id="account-error-message"></div>
            </form>
    </div>

    <!-- 其他手机号登录卡片（初始隐藏） -->
    <div class="project-card card hidden" id="other-phone-card">
            <div class="project-header">
                <button class="back-arrow" id="other-phone-back-btn">
                    <i class="fas fa-chevron-left"></i>
                </button>
                <h2 class="project-title">手机号登录</h2>
            </div>

            <form class="login-form" id="other-phone-form">
                <div class="form-group">
                    <input type="tel" id="phone" class="form-input" placeholder="请输入手机号" autocomplete="tel" inputmode="numeric">
                </div>

                <div class="form-group code-group">
                    <input type="text" id="code" class="form-input" placeholder="请输入验证码" inputmode="numeric">
                    <button type="button" class="get-code-btn" id="get-code-btn">获取验证码</button>
                </div>

                <div class="error-message" id="error-message"></div>

                <button type="submit" class="login-btn primary-btn">确定</button>
            </form>
    </div>

    <!-- 项目选择卡片（初始隐藏） -->
    <div class="project-card card hidden" id="project-card">
            <!-- 项目选择标题 -->
            <div class="project-header">
                <button class="back-arrow" id="project-back-btn">
                    <i class="fas fa-chevron-left"></i>
                </button>
                <h2 class="project-title">项目选择</h2>
            </div>

            <!-- 项目选择内容 -->
            <div class="project-selection" id="project-selection">
                <div class="picker-container">
                    <!-- 左侧省份选择器 -->
                    <div class="picker-wrapper">
                        <div class="wheel-picker">
                            <div class="picker-mask"></div>
                            <div class="picker-highlight"></div>
                            <div class="picker-column" id="province-column">
                                <!-- 动态生成省份列表 -->
                            </div>
                        </div>
                    </div>

                    <!-- 右侧项目选择器 -->
                    <div class="picker-wrapper">
                        <div class="wheel-picker">
                            <div class="picker-mask"></div>
                            <div class="picker-highlight"></div>
                            <div class="picker-column" id="project-column">
                                <!-- 动态生成项目列表 -->
                            </div>
                        </div>
                    </div>
                </div>

                <button class="login-btn primary-btn" id="confirm-project-btn">
                    确定
                </button>
            </div>
    </div>

    <!-- 车辆信息登记卡片（初始隐藏） -->
    <div class="vehicle-card card hidden" id="vehicle-card">
            <!-- 车辆信息标题 -->
            <div class="vehicle-header">
                <button class="back-arrow" id="vehicle-back-btn">
                    <i class="fas fa-chevron-left"></i>
                </button>
                <h2 class="vehicle-title" id="vehicle-title">临时车辆信息登记</h2>
            </div>

            <!-- 车辆信息表单 -->
            <form class="vehicle-form" id="vehicle-form">
                <!-- 姓名字段（仅临时车辆） -->
                <div class="form-group account-form-group" id="driver-name-group">
                    <label class="account-label">姓名:</label>
                    <input type="text" id="driver-name" class="form-input account-input" placeholder="">
                </div>

                <!-- 车牌号字段 -->
                <div class="form-group account-form-group">
                    <label class="account-label">车牌号:</label>
                    <input type="text" id="license-plate" class="form-input account-input" placeholder="">
                </div>

                <button type="submit" class="login-btn primary-btn">
                    确定
                </button>
            </form>
    </div>
    </div>
    </div>
    <!-- JSEncrypt库 - RSA加密 -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jsencrypt/3.3.2/jsencrypt.min.js"></script>
    <script src="js/login.js"></script>
</body>
</html>
